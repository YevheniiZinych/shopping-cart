"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[13],{4386:function(n,e,t){t.d(e,{A:function(){return l},f:function(){return s}});var r=t(5861),o=t(4687),i=t.n(o),a=t(1243);a.Z.defaults.baseURL="https://shopping-carg-api.onrender.com";var l=function(){var n=(0,r.Z)(i().mark((function n(){var e;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=a.Z.get("/api/restaurant"),n.abrupt("return",e);case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(i().mark((function n(e){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=a.Z.post("/api/order",e),n.abrupt("return",t);case 5:n.prev=5,n.t0=n.catch(0),console.log(n.t0.message);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})));return function(e){return n.apply(this,arguments)}}()},6013:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn}});var r,o,i,a,l,s,c,u,d,p,f,x,h,g,b,m=t(9439),v=t(2791),Z=t(168),j=t(7691),k=j.ZP.li(r||(r=(0,Z.Z)(["\n  font-size: 15px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n\n  height: 250px;\n  width: 200px;\n\n  background: rgba(255, 255, 255, 0.29);\n  border-radius: 16px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(2.6px);\n  -webkit-backdrop-filter: blur(2.6px);\n  border: 1px solid rgba(255, 255, 255, 0.54);\n"]))),C=j.ZP.div(o||(o=(0,Z.Z)(["\n  text-align: center;\n  color: #fff;\n  width: 150px;\n  margin-bottom: 10px;\n"]))),y=j.ZP.div(i||(i=(0,Z.Z)(["\n  position: absolute;\n  bottom: 45px;\n  margin-bottom: 5px;\n  & button {\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n  }\n"]))),w=j.ZP.button(a||(a=(0,Z.Z)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border: none;\n  border-radius: 50%;\n  border: 1px solid #fff;\n  background-color: transparent;\n  color: #fff;\n  transition: all 0.3s linear;\n\n  &:hover,\n  &:focus {\n    background-color: red;\n  }\n"]))),P=j.ZP.p(l||(l=(0,Z.Z)(["\n  position: absolute;\n  bottom: 15px;\n\n  font-size: 20px;\n  color: #fff;\n"]))),S=t(184),_=function(n){var e=n.item,t=n.handleRemove,r=n.handleChange,o=e._id,i=e.img,a=e.name,l=e.price,s=e.amount;return(0,S.jsxs)(k,{children:[(0,S.jsx)(C,{children:(0,S.jsxs)("figure",{style:{width:125,margin:13},children:[(0,S.jsx)("img",{src:i,alt:a,loading:"lazy",style:{height:110,width:"100%"}}),(0,S.jsx)("figcaption",{style:{fontSize:16,color:"#fff"},children:a})]})}),(0,S.jsxs)(y,{children:[(0,S.jsx)("button",{onClick:function(){return r(e,1)},type:"button",children:"+"}),(0,S.jsx)("button",{type:"button",children:s}),(0,S.jsx)("button",{onClick:function(){return r(e,-1)},type:"button",children:"-"})]}),(0,S.jsxs)(P,{children:["Price: ",l]}),(0,S.jsx)(w,{onClick:function(){return t(o)},type:"button",children:"X"})]})},L=t(8656),E=j.ZP.div(s||(s=(0,Z.Z)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n"])),L),R=j.ZP.div(c||(c=(0,Z.Z)(["\n  max-width: 1220px;\n  height: calc(100vh - 50px);\n  margin: 0 auto;\n  padding: 0 10;\n"]))),O=j.ZP.div(u||(u=(0,Z.Z)(["\n  display: flex;\n"]))),T=j.ZP.div(d||(d=(0,Z.Z)(["\n  height: 600px;\n  width: 100%;\n  margin: 10px;\n\n  overflow-y: hidden;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  scrollbar-width: none;\n"]))),z=j.ZP.ul(p||(p=(0,Z.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 20px;\n  width: calc((100% - 10px) / 1);\n"]))),A=t(5861),M=t(4687),D=t.n(M),I=t(5218),K=t(6088),B=t(6747),F=t(8329),V=(0,K.Z)(B.Z)((function(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:400,height:380,background:"rgba(255, 255, 255, 0.29)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(2.6px)",border:"1px solid rgba(255, 255, 255, 0.54)"}})),W=(0,K.Z)(F.Z)((function(){return{width:300,marginBottom:15,"& .MuiFormLabel-root ":{color:"black"},"& .MuiInputBase-root":{height:"40px"},"& .MuiFormLabel-root":{top:"-7px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#fff",borderWidth:2}}})),q=t(4386),U=j.ZP.button(f||(f=(0,Z.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: transparent;\n  color: #fff;\n  width: 150px;\n  height: 50px;\n  margin-top: 20px;\n  overflow: hidden;\n  border: 2px solid #fff;\n  transition: all 0.3s ease-in-out;\n\n  &::before {\n    content: ' ';\n    position: absolute;\n    display: block;\n    height: 100px;\n    width: 30px;\n    background-color: rgb(246, 243, 21);\n    transform: rotate(35deg);\n    left: -60px;\n    top: -30px;\n    transition: all 0.3s ease-in-out;\n  }\n\n  & span {\n    z-index: 2;\n  }\n\n  &:hover::before {\n    left: 200px;\n  }\n\n  &:hover {\n    border: 1px solid rgba(255, 255, 255, 1);\n  }\n"]))),H=function(n){var e=n.cart,t=n.price,r=n.place,o=n.setCart,i=(0,v.useState)(""),a=(0,m.Z)(i,2),l=a[0],s=a[1],c=(0,v.useState)(""),u=(0,m.Z)(c,2),d=u[0],p=u[1],f=(0,v.useState)(""),x=(0,m.Z)(f,2),h=x[0],g=x[1],b=(0,v.useState)(""),Z=(0,m.Z)(b,2),j=Z[0],k=Z[1];(0,v.useEffect)((function(){k(r)}),[r]);var C=function(n){var e=n.target,t=e.name,r=e.value;switch(t){case"name":return s(r);case"email":return p(r);case"phone":return g(r);case"address":return k(r);default:return}},y=function(){var n=(0,A.Z)(D().mark((function n(r){var i;return D().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),i={cart:{id:e._id,name:e.name,price:e.price,amount:e.amount},data:{name:l,email:d,phone:h,address:j},totalPrice:t},l&&d&&h&&j?((0,q.f)(i),s(""),p(""),g(""),k(""),o([]),I.ZP.success("Your order was sent")):I.ZP.error("Complete oll field for send order");case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,S.jsx)("div",{children:(0,S.jsxs)(V,{onSubmit:y,component:"form",noValidate:!0,autoComplete:"off",children:[(0,S.jsx)(W,{required:!0,name:"address",type:"text",value:j,onChange:C,id:"outlined-basic",label:"Address",variant:"outlined"}),(0,S.jsx)(W,{required:!0,id:"outlined-basic",label:"Name",variant:"outlined",name:"name",type:"text",onChange:C}),(0,S.jsx)(W,{required:!0,id:"outlined-basic",label:"Email",variant:"outlined",name:"email",type:"text",onChange:C}),(0,S.jsx)(W,{required:!0,id:"outlined-basic",label:"Phone",variant:"outlined",name:"phone",type:"number",onChange:C}),(0,S.jsxs)("span",{children:["Total prise: ",t," uah"]}),(0,S.jsx)(U,{type:"submit",children:(0,S.jsx)("span",{children:"Make order"})})]})})},N=t(7993),Y=t(3883),G=function(n){var e=n.position;return(0,S.jsx)(N.Jx,{position:e})},J=t(4627),X=t(4033),Q=j.ZP.div(x||(x=(0,Z.Z)(["\n  position: relative;\n  width: 100%;\n"]))),$=j.ZP.input(h||(h=(0,Z.Z)(["\n  width: 100%;\n  padding: 10px 15px;\n  border: 2px solid black;\n\n  &:focus {\n    outline: none;\n    border-color: blue;\n  }\n"]))),nn=j.ZP.ul(g||(g=(0,Z.Z)(["\n  position: absolute;\n  top: 0;\n  transform: translateY(39px);\n  background-color: #fff;\n  border: 2px solid black;\n  width: 100%;\n  z-index: 10;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n"]))),en=j.ZP.li(b||(b=(0,Z.Z)(["\n  cursor: pointer;\n  padding: 10px 15px;\n\n  &:hover {\n    background: #efefef;\n  }\n"]))),tn=function(n){var e=n.isLoaded,t=n.onPlaceSelect,r=n.onPlace,o=(0,J.ZP)({initOnMount:!0,debounce:300}),i=o.ready,a=o.value,l=o.suggestions,s=l.status,c=l.data,u=o.setValue,d=o.init,p=o.clearSuggestions,f=(0,X.Z)((function(){p()})),x=function(n){var e=n.description;return function(){u(e,!1),p(),r(e),(0,J.LM)({address:e}).then((function(n){var e=(0,J.WV)(n[0]),r=e.lat,o=e.lng;console.log("\ud83d\udccd Coordinates: ",{lat:r,lng:o}),t({lat:r,lng:o})}))}};return(0,v.useEffect)((function(){e&&d()}),[d,e]),(0,S.jsxs)(Q,{ref:f,children:[(0,S.jsx)($,{type:"text",value:a,onChange:function(n){u(n.target.value)},disabled:!i,placeholder:"Select a delivery address"}),"OK"===s&&(0,S.jsx)(nn,{children:c.map((function(n){var e=n.place_id,t=n.structured_formatting,r=t.main_text,o=t.secondary_text;return(0,S.jsxs)(en,{onClick:x(n),children:[(0,S.jsx)("strong",{children:r})," ",(0,S.jsx)("small",{children:o})]},e)}))})]})},rn=function(n){var e=n.position;return(0,S.jsx)(N.Jx,{position:e})},on={panControl:!0,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,clickableIcons:!1,KeyboardShortcuts:!1,scrollwheel:!1,disableDoubleClickZoom:!0,fullscreenControl:!1},an={width:"400px",height:"300px"},ln=0,sn=1,cn={NODE_ENV:"production",PUBLIC_URL:"/shopping-cart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_GOOGLE_MAP_API_KEY,un=function(n){var e=n.center,t=n.isLoaded,r=n.onPlaceSelect,o=n.onPlace,i=n.setPlace,a=(0,v.useRef)(void 0),l=(0,v.useState)(ln),s=(0,m.Z)(l,2),c=s[0],u=s[1],d=(0,v.useState)([]),p=(0,m.Z)(d,2),f=p[0],x=p[1];Y.Z.setApiKey(cn),Y.Z.setLanguage("en");var h=(0,v.useCallback)((function(n){a.current=n}),[]),g=(0,v.useCallback)((function(n){a.current=void 0}),[]),b=(0,v.useCallback)((function(n){Y.Z.fromLatLng("".concat(n.lat),"".concat(n.lng)).then((function(n){var e=n.results[0].formatted_address;i(e)}),(function(n){console.error(n)})),x([n])}),[i]),Z=(0,v.useCallback)((function(){if(c===ln)u(sn);else u(ln)}),[c]);return(0,S.jsxs)("div",{style:{position:"relative"},children:[(0,S.jsxs)("div",{style:{display:"flex",position:"absolute",zIndex:10},children:[(0,S.jsx)(tn,{isLoaded:t,onPlaceSelect:r,onPlace:o}),(0,S.jsx)("button",{onClick:Z,children:"Set marker"}),(0,S.jsx)("button",{onClick:function(){x([])},children:"Remove marker"})]}),(0,S.jsxs)(N.b6,{onClick:function(n){if(c===sn){var e=n.latLng.lat(),t=n.latLng.lng();b({lat:e,lng:t})}},mapContainerStyle:an,center:e,zoom:10,onLoad:h,onUnmount:g,options:on,children:[null===f||void 0===f?void 0:f.map((function(n){return(0,S.jsx)(G,{position:n},n.lng)})),(0,S.jsx)(rn,{position:e})]})]})},dn={lat:50.450001,lng:30.523333},pn={lat:50.450001,lng:30.523333},fn=function(n){var e=n.cart,t=n.setCart,r=n.handleChange,o=n.isLoaded,i=(0,v.useState)(0),a=(0,m.Z)(i,2),l=a[0],s=a[1],c=(0,v.useState)(pn),u=(0,m.Z)(c,2),d=u[0],p=u[1],f=(0,v.useState)(""),x=(0,m.Z)(f,2),h=x[0],g=x[1],b=function(n){var r=e.filter((function(e){return e._id!==n}));t(r)};return(0,v.useEffect)((function(){!function(){var n=0;e.forEach((function(e){n+=e.amount*e.price})),s(n)}()}),[e]),(0,v.useEffect)((function(){new Promise((function(n,e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,r=t.latitude,o=t.longitude;n({lat:r,lng:o})}),(function(){e(dn)})):e(dn)})).then((function(n){return p(n)})).then((function(n){return p(n)}))}),[]),(0,S.jsx)(E,{children:(0,S.jsx)("section",{children:(0,S.jsx)(R,{children:(0,S.jsxs)(O,{children:[(0,S.jsxs)("div",{style:{marginTop:10},children:[o?(0,S.jsx)(un,{center:d,isLoaded:o,onPlaceSelect:function(n){p(n)},onPlace:g,setPlace:g}):(0,S.jsx)("h2",{children:"Loading..."}),(0,S.jsx)(H,{cart:e,price:l,place:h,setCart:t})]}),(0,S.jsx)(T,{children:(0,S.jsx)(z,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,S.jsx)(_,{item:n,handleRemove:b,handleChange:r},n._id)}))})})]})})})})}},8656:function(n,e,t){n.exports=t.p+"static/media/background-img.4cd9f47d8e3cbd14e6ed.jpeg"}}]);
//# sourceMappingURL=13.a1c7f075.chunk.js.map