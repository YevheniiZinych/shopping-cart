"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[0],{4e3:function(n,e,t){t.r(e),t.d(e,{default:function(){return vn}});var o,i,r,a,l,s,d,c,u,p,f,x,h,g,m,b,v,w,Z=t(9439),j=t(2791),y=t(7993),k=t(168),C=t(7691),P=C.ZP.li(o||(o=(0,k.Z)(["\n  font-size: 15px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n\n  height: 250px;\n  width: 200px;\n\n  background: rgba(255, 255, 255, 0.29);\n  border-radius: 16px;\n  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);\n  backdrop-filter: blur(2.6px);\n  -webkit-backdrop-filter: blur(2.6px);\n  border: 1px solid rgba(255, 255, 255, 0.54);\n"]))),S=C.ZP.div(i||(i=(0,k.Z)(["\n  text-align: center;\n  color: #fff;\n  width: 150px;\n  margin-bottom: 10px;\n"]))),L=C.ZP.div(r||(r=(0,k.Z)(["\n  position: absolute;\n  bottom: 45px;\n  margin-bottom: 5px;\n  & button {\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n  }\n"]))),z=C.ZP.button(a||(a=(0,k.Z)(["\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  border: none;\n  border-radius: 50%;\n  border: 1px solid #fff;\n  background-color: transparent;\n  color: #fff;\n  transition: all 0.3s linear;\n\n  &:hover,\n  &:focus {\n    background-color: red;\n  }\n"]))),_=C.ZP.p(l||(l=(0,k.Z)(["\n  position: absolute;\n  bottom: 15px;\n\n  font-size: 20px;\n  color: #fff;\n"]))),E=t(184),I=function(n){var e=n.item,t=n.handleRemove,o=n.handleChange,i=e._id,r=e.img,a=e.name,l=e.price,s=e.amount;return(0,E.jsxs)(P,{children:[(0,E.jsx)(S,{children:(0,E.jsxs)("figure",{style:{width:125,margin:13},children:[(0,E.jsx)("img",{src:r,alt:a,loading:"lazy",style:{height:110,width:"100%"}}),(0,E.jsx)("figcaption",{style:{fontSize:16,color:"#fff"},children:a})]})}),(0,E.jsxs)(L,{children:[(0,E.jsx)("button",{onClick:function(){return o(e,1)},type:"button",children:"+"}),(0,E.jsx)("button",{type:"button",children:s}),(0,E.jsx)("button",{onClick:function(){return o(e,-1)},type:"button",children:"-"})]}),(0,E.jsxs)(_,{children:["Price: ",l]}),(0,E.jsx)(z,{onClick:function(){return t(i)},type:"button",children:"X"})]})},M=t(8656),R=C.ZP.div(s||(s=(0,k.Z)(["\n  background-image: url(",");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n\n  @media (max-width: 769px) {\n    overflow: scroll;\n\n    &::-webkit-scrollbar {\n      display: none;\n    }\n\n    scrollbar-width: none;\n  }\n"])),M),q=C.ZP.div(d||(d=(0,k.Z)(["\n  max-width: 1220px;\n  height: calc(100vh - 50px);\n  margin: 0 auto;\n  padding: 0 10;\n"]))),D=C.ZP.div(c||(c=(0,k.Z)(["\n  display: flex;\n\n  @media (max-width: 769px) {\n    flex-direction: column-reverse;\n    justify-content: center;\n    align-items: center;\n  }\n"]))),J=C.ZP.div(u||(u=(0,k.Z)(["\n  height: 900px;\n  width: 100%;\n  margin: 10px;\n\n  @media (max-width: 769px) {\n    height: 300px;\n  }\n\n  overflow-y: hidden;\n  overflow-y: scroll;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n  scrollbar-width: none;\n"]))),K=C.ZP.ul(p||(p=(0,k.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 20px;\n  width: calc((100% - 10px) / 1);\n"]))),O=t(5861),A=t(4687),U=t.n(A),V=t(5218),W=t(6088),B=t(6747),T=t(8329),F=(0,W.Z)(B.Z)((function(){return{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",maxWidth:500,height:355,background:"rgba(255, 255, 255, 0.29)",borderBottomLeftRadius:"16px",borderBottomRightRadius:"16px",boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)",backdropFilter:"blur(2.6px)",border:"1px solid rgba(255, 255, 255, 0.54)"}})),G=(0,W.Z)(T.Z)((function(){return{width:300,marginBottom:15,"& .MuiFormLabel-root ":{color:"black"},"& .MuiInputBase-root":{height:"40px"},"& .MuiFormLabel-root":{top:"-7px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#fff",borderWidth:2}}})),H=t(4386),N=C.ZP.button(f||(f=(0,k.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: transparent;\n  color: #fff;\n  width: 150px;\n  height: 50px;\n  margin-top: 20px;\n  overflow: hidden;\n  border: 2px solid #fff;\n  transition: all 0.3s ease-in-out;\n\n  &::before {\n    content: ' ';\n    position: absolute;\n    display: block;\n    height: 100px;\n    width: 30px;\n    background-color: rgb(246, 243, 21);\n    transform: rotate(35deg);\n    left: -60px;\n    top: -30px;\n    transition: all 0.3s ease-in-out;\n  }\n\n  & span {\n    z-index: 2;\n  }\n\n  &:hover::before {\n    left: 200px;\n  }\n\n  &:hover {\n    border: 1px solid rgba(255, 255, 255, 1);\n  }\n"]))),Y="user-order-cred",X=function(n){var e=n.cart,t=n.price,o=n.place,i=n.setCart,r=(0,j.useState)(""),a=(0,Z.Z)(r,2),l=a[0],s=a[1],d=(0,j.useState)(""),c=(0,Z.Z)(d,2),u=c[0],p=c[1],f=(0,j.useState)(""),x=(0,Z.Z)(f,2),h=x[0],g=x[1],m=(0,j.useState)(""),b=(0,Z.Z)(m,2),v=b[0],w=b[1],y={cart:{id:e._id,name:e.name,price:e.price,amount:e.amount},data:{name:l,email:u,phone:h,address:v},totalPrice:t};(0,j.useEffect)((function(){w(o)}),[o]);var k=function(n){var e=n.target,t=e.name,o=e.value;switch(t){case"name":return s(o);case"email":return p(o);case"phone":return g(o);case"address":return w(o);default:return}},C=function(){var n=(0,O.Z)(U().mark((function n(t){return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.preventDefault(),l&&u&&h&&v&&0!==e.length?((0,H.fS)(y),s(""),p(""),g(""),w(""),i([]),localStorage.removeItem(Y),V.ZP.success("Your order was sent")):V.ZP.error("Complete oll field for send order and add food to order");case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,j.useEffect)((function(){(l||u||h||v)&&localStorage.setItem(Y,JSON.stringify(y.data))}),[v,u,l,y.data,h]),(0,j.useEffect)((function(){var n=JSON.parse(localStorage.getItem(Y));if(n){var e=n.name,t=n.email,o=n.phone,i=n.address;s(e),p(t),g(o),w(i)}}),[]),(0,E.jsx)("div",{children:(0,E.jsxs)(F,{onSubmit:C,component:"form",noValidate:!0,autoComplete:"off",children:[(0,E.jsx)(G,{required:!0,name:"address",type:"text",value:v,onChange:k,id:"outlined-basic",label:"Address",variant:"outlined"}),(0,E.jsx)(G,{required:!0,id:"outlined-basic",label:"Name",value:l,variant:"outlined",name:"name",type:"text",onChange:k}),(0,E.jsx)(G,{required:!0,id:"outlined-basic",label:"Email",value:u,variant:"outlined",name:"email",type:"text",onChange:k}),(0,E.jsx)(G,{required:!0,id:"outlined-basic",label:"Phone",value:h,variant:"outlined",name:"phone",type:"number",onChange:k}),(0,E.jsxs)("span",{children:["Total prise: ",t," uah"]}),(0,E.jsx)(N,{type:"submit",children:(0,E.jsx)("span",{children:"Make order"})})]})})},Q=t(1243),$=function(n){var e=n.position;return(0,E.jsx)(y.Jx,{position:e})},nn=t(4627),en=t(4033),tn=C.ZP.div(x||(x=(0,k.Z)(["\n  position: absolute;\n  width: 100%;\n"]))),on=C.ZP.input(h||(h=(0,k.Z)(["\n  width: 100%;\n  padding: 10px 15px;\n  border: 2px solid black;\n\n  &:focus {\n    outline: none;\n    border-color: blue;\n  }\n\n  @media (max-width: 769px) {\n    width: 90%;\n  }\n"]))),rn=C.ZP.ul(g||(g=(0,k.Z)(["\n  position: absolute;\n  top: 0;\n  transform: translateY(39px);\n  background-color: #fff;\n  border: 2px solid black;\n  width: 100%;\n  z-index: 5;\n  margin: 0;\n  padding: 0;\n  text-align: left;\n\n  @media (max-width: 769px) {\n  }\n"]))),an=C.ZP.li(m||(m=(0,k.Z)(["\n  cursor: pointer;\n  padding: 10px 15px;\n\n  &:hover {\n    background: #efefef;\n  }\n"]))),ln=function(n){var e=n.isLoaded,t=n.onPlaceSelect,o=n.onPlace,i=(0,nn.ZP)({initOnMount:!0,debounce:300}),r=i.ready,a=i.value,l=i.suggestions,s=l.status,d=l.data,c=i.setValue,u=i.init,p=i.clearSuggestions,f=(0,en.Z)((function(){p()})),x=function(n){var e=n.description;return function(){c(e,!1),p(),o(e),(0,nn.LM)({address:e}).then((function(n){var e=(0,nn.WV)(n[0]),o=e.lat,i=e.lng;console.log("\ud83d\udccd Coordinates: ",{lat:o,lng:i}),t({lat:o,lng:i})}))}};return(0,j.useEffect)((function(){e&&u()}),[u,e]),(0,E.jsxs)(tn,{ref:f,children:[(0,E.jsx)(on,{type:"text",value:a,onChange:function(n){c(n.target.value)},disabled:!r,placeholder:"Select a delivery address"}),"OK"===s&&(0,E.jsx)(rn,{children:d.map((function(n){var e=n.place_id,t=n.structured_formatting,o=t.main_text,i=t.secondary_text;return(0,E.jsxs)(an,{onClick:x(n),children:[(0,E.jsx)("strong",{children:o})," ",(0,E.jsx)("small",{children:i})]},e)}))})]})},sn=function(n){var e=n.position;return(0,E.jsx)(y.Jx,{position:e})},dn={panControl:!0,zoomControl:!0,mapTypeControl:!1,scaleControl:!1,streetViewControl:!1,rotateControl:!1,clickableIcons:!1,KeyboardShortcuts:!1,scrollwheel:!0,disableDoubleClickZoom:!0,fullscreenControl:!1},cn=C.ZP.div(b||(b=(0,k.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n"]))),un=C.ZP.button(v||(v=(0,k.Z)(["\n  height: 40px;\n  width: 60px;\n  margin-left: 20px;\n  @media (max-width: 769px) {\n    width: 60px;\n  }\n"]))),pn=C.ZP.div(w||(w=(0,k.Z)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n\n  right: 0;\n"]))),fn=0,xn=1,hn=function(n){var e=n.center,t=n.isLoaded,o=n.onPlaceSelect,i=n.onPlace,r=n.setPlace,a=(0,j.useState)({width:window.innerWidth,height:window.innerHeight}),l=(0,Z.Z)(a,2),s=l[0],d=l[1],c=(0,j.useState)(fn),u=(0,Z.Z)(c,2),p=u[0],f=u[1],x=(0,j.useState)([]),h=(0,Z.Z)(x,2),g=h[0],m=h[1],b=(0,j.useRef)(void 0);(0,j.useEffect)((function(){var n=function(){d({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}}),[]);var v=(0,j.useCallback)((function(n){b.current=n}),[]),w=(0,j.useCallback)((function(n){b.current=void 0}),[]),k=(0,j.useCallback)(function(){var n=(0,O.Z)(U().mark((function n(e){var t,o,i;return U().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q.Z.get("https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e.lat,",").concat(e.lng,"&key=AIzaSyCjULUkbtnZbvUl5uRewGZ5HKqq79v2-AU"));case 2:o=n.sent,i=o.data.results,r(null===(t=i[0])||void 0===t?void 0:t.formatted_address),m([e]);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[r]),C=(0,j.useCallback)((function(){if(p===fn)f(xn);else f(fn)}),[p]);return(0,E.jsxs)(cn,{children:[(0,E.jsxs)("div",{style:{display:"flex",zIndex:10},children:[(0,E.jsx)(ln,{isLoaded:t,onPlaceSelect:o,onPlace:i}),(0,E.jsxs)(pn,{children:[(0,E.jsx)(un,{onClick:C,children:"Set marker"}),(0,E.jsx)(un,{onClick:function(){m([])},children:"Remove marker"})]})]}),t&&(0,E.jsxs)(y.b6,{onClick:function(n){if(p===xn){var e=n.latLng.lat(),t=n.latLng.lng();k({lat:e,lng:t})}},mapContainerStyle:function(){if(s.width<769){return{width:"330px",height:"250px"}}return{width:"500px",height:"255px"}}(),center:e,zoom:10,onLoad:v,onUnmount:w,options:dn,children:[g.length>0&&(null===g||void 0===g?void 0:g.map((function(n){return(0,E.jsx)($,{position:n},n.lng)}))),(0,E.jsx)(sn,{position:e})]})]})},gn={lat:50.450001,lng:30.523333},mn={lat:50.450001,lng:30.523333},bn=["places"],vn=function(n){var e=n.cart,t=n.setCart,o=n.handleChange,i=n.mapKey,r=(0,j.useState)(0),a=(0,Z.Z)(r,2),l=a[0],s=a[1],d=(0,j.useState)(mn),c=(0,Z.Z)(d,2),u=c[0],p=c[1],f=(0,j.useState)(""),x=(0,Z.Z)(f,2),h=x[0],g=x[1];console.log(h);var m=(0,y.Ji)({id:"google-map-script",googleMapsApiKey:"AIzaSyDVcPGpX60l - Dm_wTw3JhgtR7zSx6MDuGY",libraries:bn}).isLoaded,b=function(n){var o=e.filter((function(e){return e._id!==n}));t(o)};return(0,j.useEffect)((function(){!function(){var n=0;e.forEach((function(e){n+=e.amount*e.price})),s(n)}()}),[e]),(0,j.useEffect)((function(){new Promise((function(n,e){"geolocation"in navigator?navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,o=t.latitude,i=t.longitude;n({lat:o,lng:i})}),(function(){e(gn)})):e(gn)})).then((function(n){return p(n)})).then((function(n){return p(n)}))}),[]),(0,E.jsx)(R,{children:(0,E.jsx)("section",{children:(0,E.jsx)(q,{children:(0,E.jsxs)(D,{children:[(0,E.jsxs)("div",{style:{marginTop:10},children:[m?(0,E.jsx)(hn,{center:u,isLoaded:m,onPlaceSelect:function(n){p(n)},onPlace:g,setPlace:g,mapKey:i}):(0,E.jsx)("h2",{children:"Loading..."}),(0,E.jsx)(X,{cart:e,price:l,place:h,setCart:t})]}),(0,E.jsx)(J,{children:(0,E.jsx)(K,{children:(null===e||void 0===e?void 0:e.length)>0&&e.map((function(n){return(0,E.jsx)(I,{item:n,handleRemove:b,handleChange:o},n._id)}))})})]})})})})}},8656:function(n,e,t){n.exports=t.p+"static/media/background-img.4cd9f47d8e3cbd14e6ed.jpeg"}}]);
//# sourceMappingURL=0.9f72e85f.chunk.js.map